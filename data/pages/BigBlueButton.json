{
  "title": "BigBlueButton",
  "ns": 0,
  "id": 1071,
  "slug": "BigBlueButton",
  "latest_revision": {
    "id": 4001,
    "timestamp": "2013-01-30T12:44:44Z",
    "contributor": {
      "username": "BobBushman",
      "ip": null,
      "id": 680
    },
    "comment": "",
    "text": "BigBlueButton is a video conferencing server. It is built on a collection of FLOSS projects including FreeSWITCH, which also gives it the ability to route SIP calls and XMPP sessions, giving users the ability to do text chat, VoIP, and video chat with end to end encryption.\n\nI am attempting to get all the pieces working on a personal server and on a machine at HSL. I have built up a fair bit of state, and I'm figuring to use this page for notes so I don't lose my place. Perhaps it will also act as breadcrumbs for future explorers if my attempt goes pear-shaped. :)\n\n= SIP =\n\n== FreeSWITCH, Jitsi, ZRTP ==\n\nFreeSWITCH is a SIP router that is bundled with BigBlueButton. I have it installed and routing calls between softphones, but I do not have everything working yet. I have not made a successful SIP call between two different clients, I do not have video working through FreeSWITCH (though direct dialing with Jitsi works), and I do not have ZRTP working through FreeSWITCH (again, working with direct Jitsi-to-Jitsi calls).\n\nI have just grabbed the Jitsi source code, wiped my installs, and re-verified that direct Jitsi-to-Jitsi calls have encryption and video. Now I am going to document the failures and see if I can find any useful info in the logs. Jitsi logs are pretty sparse, even with debug enabled, so I may wind up adding log statements.\n\n=== Jitsi-to-Jitsi, Direct Connect, ZRTP+Video ===\n\n<pre>Call information :\n Identity : bob (RegistrarLess SIP)\n bob@192.168.1.10 :\n Call duration : 00:22:29\n Audio info :\n Media stream transport protocol : UDP / SRTP (Key exchange protocol: ZRTP AES-CM-128/DH3K)\n Codec / Frequency : opus / 48000 Hz\n Local IP / Port : 192.168.1.6 / 5000\n Remote IP / Port : 192.168.1.10 / 5000\n Bandwith : ↓ 6 Kbps ↑ 28 Kbps\n Loss rate : ↓ 0% ↑ 0%\n Packets decoded with FEC : 1\n Packets currently being discarded : 0%\n Number of discarded packets : 2 (0 late, 1 full, 0 shrink, 1 reset)\n Adaptive jitter buffer : enabled\n Jitter buffer : ~40ms;\n currently in queue: 1/4 packets\n RTT : 7 ms\n Jitter : ↓ 2 ms ↑ 0 ms\n Video info :\n Media stream transport protocol : UDP / SRTP (Key exchange protocol: ZRTP AES-CM-128)\n Video size : ↓ 640 x 480 ↑ 640 x 480\n Codec / Frequency : H264 / 90000 Hz\n Local IP / Port : 192.168.1.6 / 5002\n Remote IP / Port : 192.168.1.10 / 5002\n Bandwith : ↓ 35 Kbps ↑ 46 Kbps\n Loss rate : ↓ 0% ↑ 0%\n Packets decoded with FEC : 0\n Packets currently being discarded : 0%\n Number of discarded packets : 0 (0 late, 0 full, 0 shrink, 0 reset)\n Adaptive jitter buffer : enabled\n Jitter buffer : ~100ms;\n currently in queue: 0/11 packets\n RTT : 396 ms\n Jitter : ↓ 2 ms ↑ 3 ms</pre>\n\n=== Jitsi-to-Jitsi, Via FreeSWITCH, fail ZRTP and Video ===\n\n<pre>Call information :\n Identity : 1003@192.168.1.7 (SIP) Signalling\n call transport : UDP\n \n 1004@192.168.1.7 :\n Call duration : 00:01:08\n\n Audio info :\n Media stream transport protocol : UDP / RTP\n Codec / Frequency : G722 / 16000 Hz\n Local IP / Port : 192.168.1.6 / 5028\n Remote IP / Port : 192.168.1.7 / 31332\n Bandwith : ↓ 68 Kbps ↑ 64 Kbps\n Loss rate : ↓ 0% ↑ 0%\n Packets decoded with FEC : 0\n Packets currently being discarded : 0%\n Number of discarded packets : 7 (0 late, 7 full, 0 shrink, 0 reset)\n Adaptive jitter buffer : enabled\n Jitter buffer : ~40ms;\n currently in queue: 0/4 packets\n Jitter : ↓ 1 ms ↑ 0 ms </pre>\n\n=== Possible Solution: FreeSWITCH: Proxy Media ===\n\nhttp://wiki.freeswitch.org/wiki/Proxy_Media\n\nLooking like a promising path. Proxy Media basically means, \"Hey, FreeSWITCH: You're just a dumb router, not a trusted participant in my telephone call.\"\n\nI now have made video calls from Linphone/Linux to Linphone/Cyanogenmod, and have some promising looking ZRTP (encryption) error messages connecting from Jitsi/Linux to Jitsi/OS-X.\n\n=== Post-Linphone Jitsi Testing ===\n\n==== Jitsi-to-Jitsi Direct ====\n\nTesting with jitsi-src-1.1.4412.10296.\n\n1. Direct dial from Linux to Mac.\n2. Initiate video from Linux side.\n3. Initiate video from Mac side.\n4. Both video working.\n\n1. Direct dial from Linux to Mac.\n2. Initiate video from Mac side.\n3. Mac client exits abnormally.\n\n== ZRTP Support Notes ==\n\n=== Linphone ===\n\nhttps://github.com/bitzeppelin/linphone-sdk/blob/master/README.zrtp\n\nReadme on the inclusion of GNU ZRTP in the Linphone codebase. Includes notes on enabling ZRTP at compile time. Perhaps published binaries do not include ZRTP support? Confirmed -- published binaries do not have ZRTP support.\n\nCompiling with ZRTP support requires at least libzrtpcpp 2.1.2. Debian testing and sid are at 2.0.x. Debian experimental has 2.3.2. After installing libzrtpcpp2_2.3.2 and libzrtpcpp-dev_2.3.2, I finally managed to compile Linphone with ZRTP support. This is not a practical solution for most people. It may help me to validate FreeSWITCH, but as far as end-to-end encrypted comm goes, Linphone is still a work in progress.\n\n= XMPP =\n\nXMPP is the Jabber protocol, initially created for text chat. It has been extended to include voice and video with Jingle.\n\n== Text ==\n\nXMPP was originally designed for text.\n\n== Jingle ==\n\nJingle is an extension to XMPP that enables voice, video, and other new features.\n\n== Voice ==\n\n== Video ==\n\n== Encryption ==\n\nZRTP can be used with XMPP, and I think it has other options for end-to-end encryption.\n\n=== ZRTP ===\n\n== OTR ==\n\nOff-the-Record Messaging, commonly referred to as OTR, is a cryptographic protocol that provides strong encryption for instant messaging conversations. OTR uses a combination of the AES symmetric-key algorithm, the Diffie–Hellman key exchange, and the SHA-1 hash function. In addition to authentication and encryption, OTR provides perfect forward secrecy and malleable encryption.\n\nhttp://wiki.xmpp.org/web/OTR\n\n= ICE =\n\nICE (Interactive Connectivity Establishment) is a method for negotiating NAT traversal (getting through firewalls) for clients that are using multiple channels. The core spec was designed with SIP in mind, and it now has a parallel spec in XMPP.\n\nhttp://en.wikipedia.org/wiki/Interactive_Connectivity_Establishment\n\nhttp://xmpp.org/extensions/xep-0176.html",
    "bytes": 6132
  },
  "revision_count": 16,
  "first_revision_timestamp": "2013-01-22T01:02:09Z",
  "is_redirect": false
}